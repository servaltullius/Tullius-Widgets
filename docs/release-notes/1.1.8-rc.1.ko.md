# Tullius Widgets v1.1.8-rc.1

## 변경 요약
- 심층 코드 리뷰를 통해 발견된 안정성·성능·유지보수성 이슈 10건을 일괄 수정했습니다.
- **안정성 수정**
  - 전투 대상 없이 크리티컬 확률 평가 시 발생할 수 있는 CTD를 방지했습니다 (null 타겟 가드).
  - 프리셋 내보내기 중 크래시 발생 시 파일 손상을 방지하는 임시파일+rename 패턴을 적용했습니다.
  - 위젯 표시/숨김 빠른 토글 시 설정이 stale closure로 누락될 수 있는 문제를 수정했습니다.
  - 드래그 핸들러에서 stale state 참조를 방지하는 functional setState 패턴을 적용했습니다.
- **성능 최적화**
  - StatsCollector JSON 생성을 사전 할당 버퍼 방식으로 변경해 임시 문자열 할당 ~80회를 제거했습니다.
  - App.tsx의 변경 감지 시그니처를 하위 객체 단위로 세분화해 불필요한 재계산을 줄였습니다.
- **코드 품질**
  - main.cpp의 17개 파일 스코프 전역 변수를 `PluginState` 구조체로 캡슐화했습니다.
  - 아머 레이팅 승수 등 매직넘버를 명명된 상수(`kArmorRatingMultiplier`, `kDefaultHUDColor`)로 추출했습니다.
- **CI/CD**
  - 프론트엔드 린트·타입체크·테스트를 실행하는 GitHub Actions 워크플로우를 추가했습니다.
  - `v*` 태그 푸시 시 빌드→릴리스 노트 검증→GitHub Release 자동 발행 워크플로우를 추가했습니다.

## 사용자 영향/호환성
- 기존 설정 파일(`Data/SKSE/Plugins/TulliusWidgets.json`)과 프리셋은 그대로 호환됩니다.
- C++ ↔ JS 브릿지 인터페이스 변경 없음. 외부 동작 변경 없는 내부 리팩터링입니다.
- 프리릴리즈(RC) 빌드이므로 C++ DLL은 포함되지 않을 수 있습니다. 프론트엔드 변경 사항만 우선 검증해 주세요.

## 설치/업데이트 안내
1. 릴리즈 페이지에서 `TulliusWidgets-v1.1.8-rc.1.zip` 파일을 다운로드합니다.
2. 압축을 해제한 뒤 `Skyrim Special Edition/Data/` 경로에 파일을 덮어씁니다.
3. 게임을 완전히 종료 후 재실행해 적용합니다.
